{"version":3,"file":"commonHelpers.js","sources":["../src/js/script.js"],"sourcesContent":["'use strict';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\nconst spinner = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst optionsAPI = {\n  key: '42045393-d503a5a54b8da83761f9aabf4',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\nlet { key, q } = optionsAPI;\n\nfunction renderGalleryImg(arr) {\n  const markup = arr\n    .map(img => {\n      const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = img;\n\n      return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      data-source=\"\"\n      alt=\"${tags}\"\n    />\n\t\t\n  </a>\n  <ul class=\"image-info\">\n    <li class=\"info-item\">\n    <p>Likes</p>\n    ${likes}\n    </li>\n    <li class=\"info-item\"><p>Views</p>\n    ${views}\n    </li>\n    <li class=\"info-item\">\n    <p>Comments</p>\n    ${comments}\n    </li>\n    <li class=\"info-item\"><p>Downloads</p>\n    ${downloads}\n    </li>\n  </ul> \n\t\n</li>`;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', markup);\n  document.querySelector('.gallery-link').addEventListener('click', e => {\n    e.preventDefault();\n  });\n  lightbox.refresh();\n}\n\nfunction getAPIDataValueStr(str) {\n  q = str.replace(' ', '+');\n  fetch(`https://pixabay.com/api/?key=${key}&q=${q}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(img => {\n      spinner.style.display = 'none';\n      gallery.innerHTML = '';\n      if (img.hits.length !== 0) {\n        renderGalleryImg(img.hits);\n      } else {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    })\n    .catch(error => console.log('Error:', error));\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (e.target.elements.search.value !== '') {\n    spinner.style.display = 'inline-block';\n\n    getAPIDataValueStr(e.target.elements.search.value);\n  }\n});\n"],"names":["form","gallery","spinner","lightbox","SimpleLightbox","optionsAPI","key","q","renderGalleryImg","arr","markup","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","e","getAPIDataValueStr","str","response","iziToast","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,SAAS,EAE1CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAa,CACjB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EACA,GAAI,CAAE,IAAAC,EAAK,EAAAC,CAAG,EAAGF,EAEjB,SAASG,EAAiBC,EAAK,CAC7B,MAAMC,EAASD,EACZ,IAAIE,GAAO,CACV,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,kCACqBE;AAAA;AAAA;AAAA,aAGrBD;AAAA;AAAA,aAEAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOPC;AAAA;AAAA;AAAA,MAGAC;AAAA;AAAA;AAAA;AAAA,MAIAC;AAAA;AAAA;AAAA,MAGAC;AAAA;AAAA;AAAA;AAAA,MAKN,CAAK,EACA,KAAK,EAAE,EAEVjB,EAAQ,mBAAmB,aAAcS,CAAM,EAC/C,SAAS,cAAc,eAAe,EAAE,iBAAiB,QAASS,GAAK,CACrEA,EAAE,eAAc,CACpB,CAAG,EACDhB,EAAS,QAAO,CAClB,CAEA,SAASiB,EAAmBC,EAAK,CAC/Bd,EAAIc,EAAI,QAAQ,IAAK,GAAG,EACxB,MAAM,gCAAgCf,OAASC,GAAG,EAC/C,KAAKe,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKX,GAAO,CACXT,EAAQ,MAAM,QAAU,OACxBD,EAAQ,UAAY,GAChBU,EAAI,KAAK,SAAW,EACtBH,EAAiBG,EAAI,IAAI,EAEzBY,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,CAChD,CAEAxB,EAAK,iBAAiB,SAAUmB,GAAK,CACnCA,EAAE,eAAc,EAEZA,EAAE,OAAO,SAAS,OAAO,QAAU,KACrCjB,EAAQ,MAAM,QAAU,eAExBkB,EAAmBD,EAAE,OAAO,SAAS,OAAO,KAAK,EAErD,CAAC"}