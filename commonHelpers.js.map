{"version":3,"file":"commonHelpers.js","sources":["../src/js/script.js"],"sourcesContent":["'use strict';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst optionsAPI = {\n  key: '42045393-d503a5a54b8da83761f9aabf4',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\nlet { key, q, image_type } = optionsAPI;\n\nfunction getApiData(value) {\n  q = value.replace(' ', '+');\n\n  fetch(`https://pixabay.com/api/?key=${key}&q=${q}&${image_type}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(img => {\n      const markup = img.hits\n        .map(img => {\n          const {\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            views,\n            comments,\n            downloads,\n          } = img;\n\n          return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${downloads}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      data-source=\"${largeImageURL}\"\n      alt=\"${tags}\"\n    />\n\t\t\n  </a>\n\t<p>Likes: ${likes}</p>\n\t<p>Views: ${views}</p>\n\t<p>Comments:${comments} </p>\n</li>`;\n        })\n        .join('');\n\n      gallery.insertAdjacentHTML('afterbegin', markup);\n      lightbox.on('show.simplelightbox');\n    });\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  getApiData(e.target.elements.search.value);\n});\n"],"names":["form","gallery","lightbox","SimpleLightbox","optionsAPI","key","q","image_type","getApiData","value","response","img","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","e"],"mappings":"svBAMA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAa,CACjB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EACA,GAAI,CAAE,IAAAC,EAAK,EAAAC,EAAG,WAAAC,CAAU,EAAKH,EAE7B,SAASI,EAAWC,EAAO,CACzBH,EAAIG,EAAM,QAAQ,IAAK,GAAG,EAE1B,MAAM,gCAAgCJ,OAASC,KAAKC,GAAY,EAC7D,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAO,CACX,MAAMC,EAASD,EAAI,KAChB,IAAIA,GAAO,CACV,KAAM,CACJ,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGR,EAEJ,MAAO;AAAA,kCACiBQ;AAAA;AAAA;AAAA,aAGrBN;AAAA,qBACQC;AAAA,aACRC;AAAA;AAAA;AAAA;AAAA,aAIAC;AAAA,aACAC;AAAA,eACEC;AAAA,MAEf,CAAS,EACA,KAAK,EAAE,EAEVjB,EAAQ,mBAAmB,aAAcW,CAAM,EAC/CV,EAAS,GAAG,qBAAqB,CACvC,CAAK,CACL,CAEAF,EAAK,iBAAiB,SAAUoB,GAAK,CACnCA,EAAE,eAAc,EAEhBZ,EAAWY,EAAE,OAAO,SAAS,OAAO,KAAK,CAC3C,CAAC"}